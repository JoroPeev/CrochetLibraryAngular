<!-- Add Toy Button -->
<div class="add-product-section">
    <button (click)="showAddToyForm()" *ngIf="!showAddForm">Add New Toy</button>
</div>

<!-- Add Toy Form -->
<div class="add-product-form" *ngIf="showAddForm">
    <h3>Add New Toy</h3>
    <div class="form-group">
        <input [(ngModel)]="newProduct.name" placeholder="Name" type="text" />
    </div>
    <div class="form-group">
        <input [(ngModel)]="newProduct.price" placeholder="Price" type="number" step="0.01" min="0" />
    </div>
    <div class="form-group">
        <input [(ngModel)]="newProduct.imageUrl" placeholder="Image URL" type="text" />
    </div>
    <div class="form-group">
        <textarea [(ngModel)]="newProduct.description" placeholder="Description"></textarea>
    </div>
    <div class="form-buttons">
        <button (click)="addToy()">Add Toy</button>
        <button (click)="hideAddToyForm()">Cancel</button>
    </div>
</div>

<!-- Product List with Grid Container -->
<div class="products-grid">
    <div *ngFor="let toy of toys" class="product-item">
        <div *ngIf="!editingProduct || editingProduct.id !== toy.id">
            <h3>{{ toy.name }}</h3>
            <img [src]="toy.imageUrl" [alt]="toy.name" width="120" />
            <p>Price: <strong>{{ toy.price | number:'1.2-2' }} лв.</strong></p>
            <p *ngIf="toy.description">{{ toy.description }}</p>
            <div>
                <button (click)="editProduct(toy)">Edit</button>
                <button (click)="deleteProduct(toy.id)">Delete</button>
            </div>
        </div>

        <div *ngIf="editingProduct && editingProduct.id === toy.id">
            <input [(ngModel)]="editingProduct!.name" placeholder="Name" />
            <input [(ngModel)]="editingProduct!.price" type="number" step="0.01" min="0" placeholder="Price" />
            <input [(ngModel)]="editingProduct!.imageUrl" placeholder="Image URL" />
            <textarea [(ngModel)]="editingProduct!.description" placeholder="Description"></textarea>
            <div>
                <button (click)="saveProduct()">Save</button>
                <button (click)="cancelEdit()">Cancel</button>
            </div>
        </div>
    </div>
</div>