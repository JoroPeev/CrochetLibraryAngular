<!-- product-detail.component.html - Enhanced with debugging -->
<div class="product-detail-container">
    <!-- Debug info (remove in production) -->
    <div class="debug-info"
        style="background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; font-family: monospace;">
        <h4>Debug Info:</h4>
        <p><strong>Loading:</strong> {{ loading }}</p>
        <p><strong>Error:</strong> {{ error || 'None' }}</p>
        <p><strong>Toy loaded:</strong> {{ !!toy }}</p>
        <p><strong>Toy ID:</strong> {{ toy?.id || 'N/A' }}</p>
        <p><strong>Toy Name:</strong> {{ toy?.name || 'N/A' }}</p>
    </div>

    <!-- Loading state -->
    <div *ngIf="loading" class="loading-container">
        <p>Loading product details...</p>
        <div class="loading-spinner"></div>
    </div>

    <!-- Error state -->
    <div *ngIf="error && !loading" class="error-container">
        <h2>Error</h2>
        <p class="error-message">{{ error }}</p>
        <button class="back-button" (click)="goBack()">← Back to Shop</button>
    </div>

    <!-- Product details -->
    <div *ngIf="!loading && !error && toy" class="product-detail">
        <h1 class="product-title">{{ toy.name }}</h1>

        <div class="product-info">
            <p *ngIf="toy.description" class="product-description">
                {{ toy.description }}
            </p>

            <p class="product-price">
                <strong>Price:</strong> {{ toy.price | number:'1.2-2' }} лв
            </p>

            <p *ngIf="toy.colors" class="product-colors">
                <strong>Colors:</strong> {{ toy.colors }}
            </p>

            <p *ngIf="toy.stock !== undefined" class="product-stock">
                <strong>Stock:</strong> {{ toy.stock }}
            </p>

            <div *ngIf="toy.primaryImageUrl" class="primary-image">
                <strong>Primary Image:</strong>
                <img [src]="toy.primaryImageUrl" [alt]="toy.name" class="primary-image-preview" />
            </div>
        </div>

        <div class="product-images" *ngIf="toy.images && toy.images.length > 0">
            <h3>Images:</h3>
            <div class="images-container">
                <img *ngFor="let img of toy.images" [src]="img.imageUrl" [alt]="toy.name" class="gallery-image" />
            </div>
        </div>

        <button class="back-button" (click)="goBack()">← Back to Shop</button>
    </div>

    <!-- Fallback if no product and no loading/error -->
    <div *ngIf="!loading && !error && !toy" class="no-product">
        <h2>No Product Found</h2>
        <p>The requested product could not be found.</p>
        <button class="back-button" (click)="goBack()">← Back to Shop</button>
    </div>
</div>